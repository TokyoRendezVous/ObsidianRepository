
### 阶段一：Vim 基本概念与高频操作（入门与日常使用）

这个阶段主要关注 Vim 的核心概念和您在日常编辑中最常使用的命令。熟练掌握这些命令是高效使用 Vim 的基础。

#### 1.1 Vim 基本概念

- **什么是 Vim？**
    
    - Vim (Vi IMproved) 是一个高度可配置的文本编辑器，是 Vi 编辑器的增强版本。
        
    - 它以其模式编辑而闻名，这意味着它有不同的操作模式，每种模式都有特定的功能。
        
- **Vim 的模式：**
    
    - **普通模式 (Normal Mode)：** Vim 的默认模式。用于光标移动、删除、复制、粘贴、查找等操作。您的大部分时间将在这个模式下度过。
        
    - **插入模式 (Insert Mode)：** 用于输入文本。类似于其他文本编辑器的工作方式。
        
    - **可视模式 (Visual Mode)：** 用于选择文本块。您可以选择字符、行或矩形块，然后对选中的内容执行操作（如复制、删除）。
        
    - **命令行模式 (Command-line Mode)：** 在普通模式下按 `:` 进入。用于执行各种命令，如保存文件、退出 Vim、查找替换、设置选项等。
        
- **如何进入和退出 Vim：**
    
    - 打开文件：在终端输入 `vim <文件名>` (例如: `vim my_file.txt`)
        
    - 进入插入模式：在普通模式下按 `i` (在光标前插入)、`a` (在光标后插入)、`o` (在当前行下方插入新行)、`I` (在行首插入)、`A` (在行尾插入)、`O` (在当前行上方插入新行)。
        
    - 退出插入模式：按 `Esc` 键返回普通模式。
        
    - 保存文件：在普通模式下，输入 `:w` 然后按 `Enter`。
        
    - 退出 Vim：在普通模式下，输入 `:q` 然后按 `Enter` (如果文件未修改)。
        
    - 保存并退出：在普通模式下，输入 `:wq` 或 `:x` 然后按 `Enter`。
        
    - 不保存强制退出：在普通模式下，输入 `:q!` 然后按 `Enter`。
        

#### 1.2 高频操作指令

这些是您每天使用 Vim 时最常遇到的命令。熟练掌握它们是提高效率的关键。

- **基本光标移动：**
    
    - `h`：左移一个字符
        
    - `j`：下移一行
        
    - `k`：上移一行
        
    - `l`：右移一个字符
        
    - `w`：移动到下一个单词的开头
        
    - `b`：移动到当前单词或上一个单词的开头
        
    - `e`：移动到当前单词或下一个单词的结尾
        
    - `0` (数字零)：移动到行首
        
    - `$`：移动到行尾
        
- **文本删除：**
    
    - `x`：删除光标下的字符
        
    - `dw`：删除从光标位置到单词末尾的内容
        
    - `dd`：删除当前行
        
    - `D`：删除从光标位置到行尾的内容
        
- **文本复制与粘贴：**
    
    - `yy`：复制当前行
        
    - `yw`：复制从光标位置到单词末尾的内容
        
    - `p`：在光标后粘贴
        
    - `P`：在光标前粘贴
        
- **撤销与重做：**
    
    - `u`：撤销上一次操作
        
    - `Ctrl + r`：重做上一次撤销的操作
        
- **查找：**
    
    - `/` + `搜索内容`：向下查找指定内容
        
    - `?` + `搜索内容`：向上查找指定内容
        
    - `n`：跳转到下一个匹配项
        
    - `N`：跳转到上一个匹配项
        
- **替换：**
    
    - `:%s/旧内容/新内容/g`：全局替换所有匹配项 (在命令行模式下执行)
        
        - `%` 表示整个文件
            
        - `s` 表示 substitute (替换)
            
        - `g` 表示 global (全局)
            
- **重复上次操作：**
    
    - `.` (点号)：重复上一次的修改操作
        

### 阶段二：Vim 中频操作（进阶与效率提升）

这个阶段的命令能让您更高效地进行文本选择、文件间跳转和布局管理。

- **可视模式 (Visual Mode)：**
    
    - `v`：进入字符可视模式，可以按字符选择文本。
        
    - `V`：进入行可视模式，可以按行选择文本。
        
    - `Ctrl + v`：进入块可视模式，可以按矩形块选择文本。
        
    - 选择后，可以按 `y` (复制)、`d` (删除) 等进行操作。
        
- **跳转：**
    
    - `gg`：跳转到文件第一行
        
    - `G`：跳转到文件最后一行
        
    - `:` + `行号`：跳转到指定行 (例如 `:50` 跳转到第50行)
        
    - `%`：在匹配的括号、引号、HTML/XML 标签之间跳转
        
- **多文件操作（缓冲区）：**
    
    - `:e <文件名>`：在当前窗口打开另一个文件 (会替换当前缓冲区)
        
    - `:bn`：跳转到下一个缓冲区
        
    - `:bp`：跳转到上一个缓冲区
        
    - `:ls`：列出所有打开的缓冲区
        
    - `:bd`：关闭当前缓冲区
        
- **分屏操作：**
    
    - `:sp`：水平分屏 (当前文件在新窗口中打开)
        
    - `:vsp`：垂直分屏 (当前文件在新窗口中打开)
        
    - `Ctrl + w + w`：在分屏之间切换
        
    - `Ctrl + w + h/j/k/l`：移动到左/下/上/右侧的窗口
        
    - `Ctrl + w + q`：关闭当前分屏
        
- **宏录制与执行：**
    
    - `q` + `寄存器名称` (例如 `qa`)：开始录制宏，将操作记录到指定寄存器。
        
    - `q`：停止录制宏。
        
    - `@` + `寄存器名称` (例如 `@a`)：执行指定寄存器中的宏。
        
    - `@@`：重复执行上一个宏。
        
- **文本折叠：**
    
    - `zc`：折叠光标所在的代码块
        
    - `zo`：打开光标所在的代码块
        
    - `za`：切换光标所在代码块的折叠状态
        

### 阶段三：Vim 低频操作（高级定制与扩展）

这个阶段的命令和概念涉及到 Vim 的高级功能和个性化配置，能让您更深入地定制 Vim 以适应您的工作流。

- **高级查找与替换：**
    
    - 使用正则表达式进行更复杂的查找和替换模式。
        
    - `:%s/pattern/replace/gc`：替换时进行确认 (`c` 表示 confirm)。
        
- **正则表达式：** 深入学习 Vim 正则表达式语法，例如 `\d` (数字)、`\w` (单词字符)、`^` (行首)、`$` (行尾) 等。
    
- **自定义快捷键 (映射)：**
    
    - `:map <快捷键> <命令>`：在普通模式下定义快捷键。
        
    - `:imap <快捷键> <命令>`：在插入模式下定义快捷键。
        
    - `:nmap <快捷键> <命令>`：仅在普通模式下定义快捷键。
        
    - `:vmap <快捷键> <命令>`：仅在可视模式下定义快捷键。
        
- **插件管理：**
    
    - 了解并使用 Vim 插件管理器，如 `Vim-plug`、`Pathogen` 或 `Vundle`，来安装和管理第三方插件，扩展 Vim 的功能。
        
- **Vimrc 配置：**
    
    - `~/.vimrc` 文件是 Vim 的配置文件。您可以在其中设置各种选项、定义快捷键、加载插件等，以个性化您的 Vim 环境。
        
    - `:set <选项>`：临时设置 Vim 选项 (例如 `:set nu` 显示行号)。
        
    - 在 `.vimrc` 中添加 `set nu` 可以永久显示行号。
        
- **外部命令执行：**
    
    - `:!` + `命令`：在 Vim 中执行外部 shell 命令，并显示输出 (例如 `:!ls` 列出当前目录文件)。
        
    - `:r !` + `命令`：将外部命令的输出插入到当前文件中。
        

**学习建议：**

1. **分阶段练习：** 严格按照阶段进行，确保每个阶段的命令都熟练掌握后再进入下一个阶段。
    
2. **多动手实践：** 理论知识结合实际操作才能真正掌握。在 Vim 中打开一个文件，不断地尝试这些命令。
    
3. **使用 `vimtutor`：** Vim 自带一个非常好的交互式教程，在终端输入 `vimtutor` 即可开始。强烈推荐！
    
4. **查阅帮助文档：** 在 Vim 中，随时可以通过 `:help <命令>` (例如 `:help w`) 来查看命令的详细帮助。
    
5. **耐心与坚持：** Vim 的学习曲线可能有些陡峭，但只要坚持练习，您一定会感受到它带来的效率提升。
    

祝您学习愉快！